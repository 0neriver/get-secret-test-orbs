description: get secret manager value from GCP
orbs:
  gcp-cli: circleci/gcp-cli@2.2.0
docker:
  - image: cimg/base:2021.04
parameters:
  gcloud-service-key:
    type: env_var_name
    default: GCLOUD_SERVICE_KEY
  google-compute-region:
    type: env_var_name
    default: GOOGLE_COMPUTE_REGION
  google-compute-zone:
    type: env_var_name
    default: GOOGLE_COMPUTE_ZONE
  google-project-id:
    type: env_var_name
    default: GOOGLE_PROJECT_ID
  secret-name:
    type: string
    default: SECRET_NAME
  output-path:
    type: string
    default: .